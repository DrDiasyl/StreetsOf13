<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;item&#x2F;melee&#x2F;blood_magic&#x2F;manipulator - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/item/melee/blood_magic/manipulator.html#proc">Proc Details</a></header>
<main>
<h1>manipulator <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/melee/blood_magic/manipulator.html">melee/blood_magic/manipulator</a></aside>
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L706">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 706"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/attack_self">attack_self</a></th><td>handles untargeted use of blood rites</td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/blood_draw">blood_draw</a></th><td>handles blood rites use on turfs, blood pools, and blood trails</td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/cast_spell">cast_spell</a></th><td>handles inhand use of blood rites on constructs, humans, or non-living blood sources</td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/drain_victim">drain_victim</a></th><td>used to ensure the proc returns TRUE if we completely restore an undamaged persons blood
how much blood we are capable of restoring, based on spell charges
how much damage we can/will heal
how many spell charges will be consumed to heal said damage
handles blood rites use on a non-cultist human</td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/heal_construct">heal_construct</a></th><td>handles blood rites usage on constructs</td></tr>
            <tr><th><a href="obj/item/melee/blood_magic/manipulator.html#proc/heal_cultist">heal_cultist</a></th><td>handles blood rites usage on human cultists</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/attack_self"><aside class="parent"><a title="/obj/item" href="obj/item.html#proc/attack_self">&uarr;</a></aside>attack_self<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L887">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 887"/></a></aside>
        </h3>
        <p>handles untargeted use of blood rites</p>
<p>allows user to trade in spell uses for equipment or spells</p><h3 id="proc/blood_draw"><aside class="declaration">proc </aside>blood_draw<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L853">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 853"/></a></aside>
        </h3>
        <p>handles blood rites use on turfs, blood pools, and blood trails</p><h3 id="proc/cast_spell">cast_spell<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L725">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 725"/></a></aside>
        </h3>
        <p>handles inhand use of blood rites on constructs, humans, or non-living blood sources</p>
<p>see '/obj/item/melee/blood_magic/manipulator/proc/heal_construct' for construct/shade behavior
see '/obj/item/melee/blood_magic/manipulator/proc/heal_cultist' for human cultist behavior
see '/obj/item/melee/blood_magic/manipulator/proc/drain_victim' for human non-cultist behavior
if any of the above procs return FALSE, '/obj/item/melee/blood_magic/afterattack' will not be called</p>
<p>'/obj/item/melee/blood_magic/manipulator/proc/blood_draw' handles blood pools/trails and does not affect parent proc</p><h3 id="proc/drain_victim"><aside class="declaration">proc </aside>drain_victim<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human_bloodbag, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L834">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 834"/></a></aside>
        </h3>
        <p>used to ensure the proc returns TRUE if we completely restore an undamaged persons blood
how much blood we are capable of restoring, based on spell charges
how much damage we can/will heal
how many spell charges will be consumed to heal said damage
handles blood rites use on a non-cultist human</p>
<p>returns TRUE if blood is successfully drained from the victim</p><h3 id="proc/heal_construct"><aside class="declaration">proc </aside>heal_construct<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L749">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 749"/></a></aside>
        </h3>
        <p>handles blood rites usage on constructs</p>
<p>will only return TRUE if some amount healing is done</p><h3 id="proc/heal_cultist"><aside class="declaration">proc </aside>heal_cultist<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human_bloodbag, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user) 
        
    
            <a href="https://github.com/DrDiasyl/StreetsOf13/blob/aac7e55363b4e92d7dd1775eb77db30ee150d3be/code/modules/antagonists/cult/blood_magic.dm#L778">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;antagonists&#x2F;cult&#x2F;blood_magic.dm 778"/></a></aside>
        </h3>
        <p>handles blood rites usage on human cultists</p>
<p>first restores blood, then heals damage. healing damage is more expensive, especially if performed on oneself
returns TRUE if some amount of blood is restored and/or damage is healed</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/DrDiasyl/StreetsOf13/tree/aac7e55363b4e92d7dd1775eb77db30ee150d3be">aac7e55</a>
        (main) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
